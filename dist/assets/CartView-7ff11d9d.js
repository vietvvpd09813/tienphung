import{k as z,f as D,l as m,r as f,m as F,o as l,c as a,a as t,d as _,w as C,u as M,t as n,F as G,n as I,e as y,p as j,q as R,s as u,v as g,x as V,b as E,R as T}from"./index-ff3c59ff.js";const O={class:"py-12 bg-yellow-50"},P={class:"container"},$={key:0,class:"bg-white rounded-lg shadow-md p-8 text-center"},A={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-8"},Q={class:"md:col-span-2"},X={class:"bg-white rounded-lg shadow-md overflow-hidden"},J={class:"p-6 border-b border-gray-200"},K={class:"text-xl font-bold"},W={class:"divide-y divide-gray-200"},Y={class:"w-24 h-24 flex-shrink-0 rounded-md overflow-hidden border border-gray-200"},Z=["src","alt"],tt={class:"flex-grow"},st={class:"text-lg font-medium text-gray-900"},et={class:"text-sm text-gray-600"},ot={class:"flex items-center"},nt=["onClick","disabled"],rt={class:"mx-3 w-8 text-center"},lt=["onClick"],at={class:"text-right"},it={class:"text-lg font-medium text-gray-900"},dt=["onClick"],ut={class:"p-6 border-t border-gray-200 bg-gray-50"},mt={class:"flex flex-col sm:flex-row justify-between gap-4"},ct={class:"bg-white rounded-lg shadow-md overflow-hidden"},gt={class:"p-6 space-y-4"},pt={class:"flex justify-between"},ht={class:"font-medium"},vt={class:"flex justify-between"},ft={class:"font-medium"},yt={key:0,class:"flex justify-between"},xt={class:"font-medium text-red-600"},bt={class:"pt-4 border-t border-gray-200 flex justify-between items-center"},wt={class:"text-lg font-bold text-primary-600"},kt={class:"p-6 bg-gray-50"},_t={class:"space-y-4"},Ct={class:"space-y-2"},Mt={class:"flex items-center"},jt={class:"flex items-center"},Vt=["disabled"],Tt={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},qt={__name:"CartView",setup(Bt){const B=z(),r=D(),x=m(()=>r.items),H=m(()=>r.isEmpty),p=m(()=>r.total),b=m(()=>p.value>1e5?0:15e3),h=f(0),q=m(()=>p.value+b.value-h.value),o=F({name:"",phone:"",address:"",paymentMethod:"cod",note:""}),i=d=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(d).replace("₫","đ"),w=(d,s)=>{r.updateQuantity(d,s)},S=d=>{r.removeItem(d)},N=()=>{r.clearCart()},c=f(!1),v=f(!1),L=()=>{c.value=!0,setTimeout(()=>{c.value=!1,v.value=!0,r.clearCart()},1500)},U=()=>{v.value=!1,B.push("/")};return(d,s)=>(l(),a("div",O,[t("div",P,[s[29]||(s[29]=t("h1",{class:"text-3xl font-bold text-center mb-8"},"Giỏ hàng của bạn",-1)),H.value?(l(),a("div",$,[s[7]||(s[7]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),s[8]||(s[8]=t("h2",{class:"text-xl font-bold mb-4"},"Giỏ hàng của bạn đang trống",-1)),s[9]||(s[9]=t("p",{class:"text-gray-600 mb-6"},"Hãy thêm một vài sản phẩm vào giỏ hàng để tiến hành đặt hàng",-1)),_(M(T),{to:"/menu",class:"btn btn-primary"},{default:C(()=>s[6]||(s[6]=[y(" Xem thực đơn ")])),_:1})])):(l(),a("div",A,[t("div",Q,[t("div",X,[t("div",J,[t("h2",K,"Sản phẩm ("+n(x.value.length)+")",1)]),t("div",W,[(l(!0),a(G,null,I(x.value,e=>(l(),a("div",{key:e.id,class:"p-6 flex flex-col sm:flex-row items-start sm:items-center gap-4"},[t("div",Y,[t("img",{src:e.image,alt:e.name,class:"w-full h-full object-cover"},null,8,Z)]),t("div",tt,[t("h3",st,n(e.name),1),t("p",et,n(i(e.price)),1)]),t("div",ot,[t("button",{onClick:k=>w(e.id,Math.max(1,e.quantity-1)),class:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 text-gray-600 hover:bg-gray-100",disabled:e.quantity<=1},s[10]||(s[10]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,nt),t("span",rt,n(e.quantity),1),t("button",{onClick:k=>w(e.id,e.quantity+1),class:"w-8 h-8 flex items-center justify-center rounded-full border border-gray-300 text-gray-600 hover:bg-gray-100"},s[11]||(s[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),8,lt)]),t("div",at,[t("p",it,n(i(e.price*e.quantity)),1)]),t("button",{onClick:k=>S(e.id),class:"text-red-600 hover:text-red-800"},s[12]||(s[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,dt)]))),128))]),t("div",ut,[t("div",mt,[t("button",{onClick:N,class:"btn btn-secondary"},s[13]||(s[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),y(" Xóa giỏ hàng ")])),_(M(T),{to:"/menu",class:"btn btn-secondary"},{default:C(()=>s[14]||(s[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})],-1),y(" Tiếp tục mua hàng ")])),_:1})])])])]),t("div",null,[t("div",ct,[s[27]||(s[27]=t("div",{class:"p-6 border-b border-gray-200"},[t("h2",{class:"text-xl font-bold"},"Tóm tắt đơn hàng")],-1)),t("div",gt,[t("div",pt,[s[15]||(s[15]=t("span",{class:"text-gray-600"},"Tạm tính",-1)),t("span",ht,n(i(p.value)),1)]),t("div",vt,[s[16]||(s[16]=t("span",{class:"text-gray-600"},"Phí vận chuyển",-1)),t("span",ft,n(i(b.value)),1)]),h.value>0?(l(),a("div",yt,[s[17]||(s[17]=t("span",{class:"text-gray-600"},"Giảm giá",-1)),t("span",xt,"-"+n(i(h.value)),1)])):j("",!0),t("div",bt,[s[18]||(s[18]=t("span",{class:"text-lg font-bold"},"Tổng cộng",-1)),t("span",wt,n(i(q.value)),1)])]),t("div",kt,[s[26]||(s[26]=t("h3",{class:"font-medium mb-4"},"Thông tin đặt hàng",-1)),t("form",{onSubmit:R(L,["prevent"])},[t("div",_t,[t("div",null,[s[19]||(s[19]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-1"},"Họ và tên",-1)),u(t("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=e=>o.name=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50",required:""},null,512),[[g,o.name]])]),t("div",null,[s[20]||(s[20]=t("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-1"},"Số điện thoại",-1)),u(t("input",{type:"tel",id:"phone","onUpdate:modelValue":s[1]||(s[1]=e=>o.phone=e),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50",required:""},null,512),[[g,o.phone]])]),t("div",null,[s[21]||(s[21]=t("label",{for:"address",class:"block text-sm font-medium text-gray-700 mb-1"},"Địa chỉ giao hàng",-1)),u(t("textarea",{id:"address","onUpdate:modelValue":s[2]||(s[2]=e=>o.address=e),rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50",required:""},null,512),[[g,o.address]])]),t("div",null,[s[24]||(s[24]=t("span",{class:"block text-sm font-medium text-gray-700 mb-2"},"Phương thức thanh toán",-1)),t("div",Ct,[t("label",Mt,[u(t("input",{type:"radio","onUpdate:modelValue":s[3]||(s[3]=e=>o.paymentMethod=e),value:"cod",class:"h-4 w-4 text-primary-600 focus:ring-primary-500"},null,512),[[V,o.paymentMethod]]),s[22]||(s[22]=t("span",{class:"ml-2 text-sm text-gray-700"},"Thanh toán khi nhận hàng (COD)",-1))]),t("label",jt,[u(t("input",{type:"radio","onUpdate:modelValue":s[4]||(s[4]=e=>o.paymentMethod=e),value:"transfer",class:"h-4 w-4 text-primary-600 focus:ring-primary-500"},null,512),[[V,o.paymentMethod]]),s[23]||(s[23]=t("span",{class:"ml-2 text-sm text-gray-700"},"Chuyển khoản ngân hàng",-1))])])]),t("div",null,[s[25]||(s[25]=t("label",{for:"note",class:"block text-sm font-medium text-gray-700 mb-1"},"Ghi chú đơn hàng (không bắt buộc)",-1)),u(t("textarea",{id:"note","onUpdate:modelValue":s[5]||(s[5]=e=>o.note=e),rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring focus:ring-primary-500 focus:ring-opacity-50"},null,512),[[g,o.note]])])]),t("button",{type:"submit",class:"w-full btn btn-primary mt-6",disabled:c.value},n(c.value?"Đang xử lý...":"Đặt hàng ngay"),9,Vt)],32)])])])])),v.value?(l(),a("div",Tt,[t("div",{class:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 m-4"},[t("div",{class:"text-center"},[s[28]||(s[28]=E('<div class="w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mt-4">Đặt hàng thành công!</h3><p class="text-gray-600 mt-2"> Cảm ơn bạn đã đặt hàng. Đơn hàng của bạn đã được xác nhận và sẽ được giao trong thời gian sớm nhất. </p>',3)),t("div",{class:"mt-6"},[t("button",{onClick:U,class:"btn btn-primary"}," Tiếp tục mua sắm ")])])])])):j("",!0)])]))}};export{qt as default};
